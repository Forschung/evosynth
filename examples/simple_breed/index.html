<html>

<head>
        <title>Evolib: Simple Breeding Example</title>
        <script src="../../evolib.js"></script>
        <script src="js/jquery-1.11.2.min.js"></script>
        <script>
                $(document).ready(function() {
                        var popSize = 5;
                        // create a new population
                        Evolib.newPopulation(popSize);
                        // setup the play button to play a sound
                        $('.play').on('click', function(e) {
                                var id = $(e.target).data('id');
                                Evolib.stopListening();
                                Evolib.listen(id);
                        });
                        // setyo the stop button to stop the sound
                        $('#stop-button').on('click', function() {
                                Evolib.stopListening()
                        });
                        // new button will create a new set of sounds
                        $('#new-button').on('click', function() {
                                Evolib.stopListening();
                                Evolib.newPopulation(popSize);
                                // show and hide the buttons to make it clear something happened
                                $('.play').hide('fast', function() {
                                        $('.play').show();
                                });
                        });

                        // select or unselect a sound for breeding
                        $('.select-sound').on('change', function(e) {
                                var id = $(e.target).data('id');
                                if (e.target.checked) {
                                        Evolib.select(id)
                                } else {
                                        Evolib.unselect(id)
                                }
                        });
                        // generate a new population
                        // from the selected individuals
                        $('#breed-button').on('click', function() {
                                Evolib.stopListening();
                                // note that breed assumes tou have previously called
                                // select on several individuals
                                Evolib.breed();
                                // show and hide the buttons to make it clear something happened
                                $('.play').hide('fast', function() {
                                        $('.play').show();
                                });
                        });


                });
        </script>
        <style>
                button.stop {
                        background: red;
                        color: white;
                }

                button.play {
                        background: green;
                        color: white;
                }

                button.new {
                        background: blue;
                        color: white;
                }

                button.breed {
                        background: orange;
                        color: white;
                }

                div.circuit {
                        display: inline;
                        border: 1px solid gray;
                        padding: 10px;
                }
        </style>

</head>

<body>
        <h1>Evolib: Simple Breeding Example</h1>
        <div>
                <button class="new" id="new-button">new</button>
                <button class="stop" id="stop-button">stop</button>
                <hr>
                <div class="circuit">
                        <button data-id="0" class="play">circuit 0</button>
                        <input class="select-sound" type="checkbox" data-id="0">
                </div>

                <div class="circuit">
                        <button data-id="1" class="play">circuit 1</button>
                        <input class="select-sound" type="checkbox" data-id="2">
                </div>

                <div class="circuit">
                        <button data-id="2" class="play">circuit 2</button>
                        <input class="select-sound" type="checkbox" data-id="2">
                </div>

                <div class="circuit">
                        <button data-id="3" class="play">circuit 3</button>
                        <input class="select-sound" type="checkbox" data-id="3">
                </div>

                <div class="circuit">
                        <button data-id="4" class="play">circuit 4</button>
                        <input class="select-sound" type="checkbox" data-id="4">
                </div>
                <br>
                <br>
                <button class="breed" id="breed-button">breed</button>





        </div>
</body>

</html>
